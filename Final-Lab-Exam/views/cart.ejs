<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

    <header class="bg-dark text-white">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <a class="navbar-brand" href="#">Apple Logo</a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li><button class="cart-btn">
                        Cart 
                    </button></a></li>
                    <% if (user) { %>
                        <li class="nav-item"><span class="nav-link">Hello, <%= user.username %></span></li>
                        <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
                    <% } else { %>
                        <li class="nav-item"><a class="btn btn-primary btn-sm ml-2" href="/login">Login</a></li>
                        <li class="nav-item"><a class="btn btn-success btn-sm ml-2" href="/signup">Sign Up</a></li>
                    <% } %>
                </ul>
            </div>
        </nav>
    </header>

    <main class="container mt-5">
        <h2>Your Cart</h2>
        <% if (cart.length === 0) { %>
            <p>Your cart is empty. <a href="/">Go back to shop</a></p>
        <% } else { %>
            <table class="table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <% cart.forEach(item => { %>
                        <tr>
                            <td><%= item.productName %></td>
                            <td>$<%= item.productPrice %></td>
                            <td><%= item.quantity %></td>
                            <td>$<%= item.productPrice * item.quantity %></td>
                        </tr>
                    <% }); %>
                    <tr>
                        <td colspan="3"><strong>Total Price:</strong></td>
                        <td><strong>$<%= totalPrice %></strong></td>
                    </tr>
                </tbody>
            </table>
            <a href="/" class="btn btn-secondary">Continue Shopping</a>
        <% } %>
    </main>

    <footer class="bg-dark text-white text-center py-3">
        <p>&copy; 2024 Apple Store</p>
    </footer>

</body>
</html>
